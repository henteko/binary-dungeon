# 🛠️ プロジェクト・マニフェスト: **Binary Dungeon (bd)**

### 1. プロジェクトの目的

**「AIの待ち時間を、エンジニアの修練場へ」**
Coding Agentによる自動コーディングやビルドの待機時間を、集中力を切らさずに過ごすための「短時間完結型・戦術TUIローグライク」。エンジニアのワークフローに溶け込む軽量さと、リソース管理の奥深さを両立させる。

---

### 2. コア・システム

* **精神力 (Mental Health):** プレイヤーのHP。行動によって消費し、0になるとリタイア（燃え尽き）。
* **納期 (Deadline):** 階層（マイルストーン）ごとの制限時間。
* 1ターンごとに減少。0になると「炎上モード」となり、敵が強化され持続ダメージが発生する。


* **マイルストーン (Milestone):** 従来の「階層」の呼称。
* **納期回復:** 各マイルストーンを攻略（階段に到達）するごとに、新しい納期が割り当てられ、制限時間が延長される。



---

### 3. プレイヤーのアクション (4コマンド)

戦術を4つの基本操作に集約。精神力を削って戦うか、納期を削って体制を整えるかの選択が鍵となる。

| コマンド | カテゴリ | 消費コスト | 効果詳細 |
| --- | --- | --- | --- |
| **`Debug`** | 攻撃 | **精神力 (低)** | 標準的な単体攻撃。バグを着実に処理する。 |
| **`Hotfix`** | 必殺 | **精神力 (中)** | 高威力攻撃。ただし反動で**次ターン行動不可**。 |
| **`Google It`** | 探索 | **納期** | 部屋全体の可視化。敵のHPと弱点を露呈させる。 |
| **`Refactor`** | 回復 | **納期** | 防御態勢。被ダメージを抑え、**精神力を微回復**する。 |

---

### 4. プレイヤーの永続強化

ゲームオーバー時に持ち帰ったXPを「技術スタック」に投資し、基礎能力を底上げする。

* **Pythonスタック:** `Debug` の精神力効率を改善。
* **C++スタック:** `Hotfix` の最大火力を向上。
* **Rustスタック:** `Refactor` 中の安全性（防御力）を強化。
* **Goスタック:** `Google It` を高速化し、納期消費を抑制。

---

### 5. 「エンジニアの矜持」を試すセーブ/リプレイ

* **YAML署名システム:** * セーブデータは `save.yaml` で人間が編集可能。
* ただし、全ステータスを秘密鍵でハッシュ化した `signature` を保持。改竄により署名が不一致となった場合、プレイヤーの称号は永久に **「Script Kiddie」** へと上書きされ、UIに警告が表示される。


* **TTYリプレイ:** * プレイの全出力を `ttyrec` 形式で記録。他人は `bd --replay <file>` でそのデバッグ捌きを再現・鑑賞できる。改竄データによるプレイには「UNVERIFIED」のラベルが常駐する。

---

### 6. UIイメージ (`bd` 実行時)

```text
 [ BINARY DUNGEON ]                   [ MILESTONE: v1.2.0 ]
 +-----------------------+            Player: Dev_User
 | . . . . . . . . . . . |            Rank:   Senior (Verified)
 | . . . @ . . . . . . . |            
 | . . . . . . . B . . . |            [ RESOURCES ]
 | . . . . . . . . . . . |            MH: [#########---] 75/100
 +-----------------------+            DL: [|||||       ] 05:00
 [ LOG ]
 > Milestone v1.1.0 Cleared!          [ ACTIONS ]
 > Deadline extended by 10m.          (D)ebug  (H)otfix
 > Bug 'Segmentation Fault' detected. (G)oogle (R)efactor

```

### 7. 開発

* TypeScript
* TUI Library: https://github.com/anomalyco/opentui



